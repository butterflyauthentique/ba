(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4152],{2730:(e,t,s)=>{"use strict";s.d(t,{C:()=>i,e:()=>n});var r=s(5453),a=s(6786),c=s(2115);let i=(0,r.v)()((0,a.Zr)((e,t)=>({cart:[],addToCart:t=>{e(e=>{let s=Array.isArray(e.cart)?e.cart:[];return s.find(e=>e.productId===t.productId&&e.variantId===t.variantId)?{cart:s.map(e=>e.productId===t.productId&&e.variantId===t.variantId?{...e,quantity:e.quantity+t.quantity}:e)}:{cart:[...s,t]}})},removeFromCart:(t,s)=>{e(e=>({cart:(Array.isArray(e.cart)?e.cart:[]).filter(e=>e.productId!==t||e.variantId!==s)}))},updateCartQuantity:(t,s,r)=>{e(e=>({cart:(Array.isArray(e.cart)?e.cart:[]).map(e=>e.productId===t&&e.variantId===r?{...e,quantity:s}:e).filter(e=>e.quantity>0)}))},clearCart:()=>e({cart:[]}),isLoading:!1,setLoading:t=>e({isLoading:t}),theme:"light",setTheme:t=>e({theme:t}),checkoutForm:{email:"",name:"",phone:"",address:"",city:"",state:"",zipCode:""},updateCheckoutForm:t=>{e(e=>({checkoutForm:{...e.checkoutForm,...t}}))},getCartTotal:()=>{let{cart:e}=t();return(Array.isArray(e)?e:[]).reduce((e,t)=>e+t.price*t.quantity,0)},getCartItemCount:()=>{let{cart:e}=t();return(Array.isArray(e)?e:[]).reduce((e,t)=>e+t.quantity,0)}}),{name:"butterfly-authentique-store",partialize:e=>({cart:e.cart,theme:e.theme,checkoutForm:e.checkoutForm})})),n=()=>{let e=i(),[t,s]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{s(!0)},[]),t?e:{cart:[],addToCart:()=>{},removeFromCart:()=>{},updateCartQuantity:()=>{},clearCart:()=>{},isLoading:!1,setLoading:()=>{},theme:"light",setTheme:()=>{},checkoutForm:{email:"",name:"",phone:"",address:"",city:"",state:"",zipCode:""},updateCheckoutForm:()=>{},getCartTotal:()=>0,getCartItemCount:()=>0}}},4700:(e,t,s)=>{Promise.resolve().then(s.bind(s,4722))},4722:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(5155),a=s(2115),c=s(5695),i=s(6874),n=s.n(i),l=s(3904),d=s(4861),o=s(1243),m=s(6151),x=s(7340),u=s(2138),h=s(2730);function f(){let e=(0,c.useRouter)(),t=(0,c.useSearchParams)(),{cart:s}=(0,h.e)(),[i,f]=(0,a.useState)({});return(0,a.useEffect)(()=>{let e=t.get("error_code"),s=t.get("error_description");f({code:e||void 0,description:s||void 0,source:t.get("error_source")||void 0,step:t.get("error_step")||void 0})},[t]),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center py-12 px-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[(0,r.jsx)("div",{className:"w-20 h-20 ".concat((()=>{switch(i.code){case"NETWORK_ERROR":case"TIMEOUT":return"bg-orange-100 text-orange-600";default:return"bg-red-100 text-red-600"}})().split(" ")[0]," rounded-full flex items-center justify-center mx-auto mb-6"),children:(()=>{switch(i.code){case"NETWORK_ERROR":case"TIMEOUT":return(0,r.jsx)(l.A,{className:"w-10 h-10 text-orange-600"});default:return(0,r.jsx)(d.A,{className:"w-10 h-10 text-red-600"})}})()}),(0,r.jsx)("h1",{className:"font-serif text-2xl font-bold text-gray-900 mb-4",children:"Payment Failed"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:(()=>{if(i.description)return i.description;switch(i.code){case"PAYMENT_DECLINED":return"Your payment was declined. Please try a different payment method.";case"INSUFFICIENT_FUNDS":return"Insufficient funds in your account. Please check your balance.";case"CARD_EXPIRED":return"Your card has expired. Please use a different card.";case"INVALID_CARD":return"Invalid card details. Please check and try again.";case"NETWORK_ERROR":return"Network error occurred. Please check your connection and try again.";case"TIMEOUT":return"Payment request timed out. Please try again.";default:return"Payment failed. Please try again or contact support if the issue persists."}})()}),i.code&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Error Code"}),(0,r.jsx)("span",{className:"font-mono text-gray-900",children:i.code})]}),i.step&&(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm mt-2",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Failed At"}),(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:i.step})]})]}),(0,r.jsxs)("div",{className:"space-y-3 mb-8",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3 text-left",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,r.jsx)(o.A,{className:"w-3 h-3 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Check Payment Method"}),(0,r.jsx)("p",{className:"text-xs text-gray-600",children:"Ensure your card/bank details are correct"})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3 text-left",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,r.jsx)(o.A,{className:"w-3 h-3 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Verify Balance"}),(0,r.jsx)("p",{className:"text-xs text-gray-600",children:"Make sure you have sufficient funds"})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3 text-left",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,r.jsx)(o.A,{className:"w-3 h-3 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Try Again"}),(0,r.jsx)("p",{className:"text-xs text-gray-600",children:"Sometimes temporary issues resolve on retry"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[s&&s.length>0&&(0,r.jsxs)("button",{onClick:()=>e.push("/checkout"),className:"w-full btn-primary flex items-center justify-center space-x-2",children:[(0,r.jsx)(l.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Try Payment Again"})]}),(0,r.jsxs)(n(),{href:"/shop",className:"w-full btn-secondary flex items-center justify-center space-x-2",children:[(0,r.jsx)(m.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Continue Shopping"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"or"})})]}),(0,r.jsxs)(n(),{href:"/",className:"w-full btn-outline flex items-center justify-center space-x-2",children:[(0,r.jsx)(x.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Back to Home"})]})]}),(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Still having issues? Contact our support team"}),(0,r.jsx)("div",{className:"flex items-center justify-center space-x-4 text-xs",children:(0,r.jsxs)(n(),{href:"/contact",className:"flex items-center space-x-1 text-red-600 hover:text-red-700",children:[(0,r.jsx)("span",{children:"Contact Support"}),(0,r.jsx)(u.A,{className:"w-3 h-3"})]})})]})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Your cart items are still saved. You can retry the payment anytime."})})]})})}function p(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center py-12 px-4",children:(0,r.jsx)("div",{className:"max-w-md w-full",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-6"}),(0,r.jsx)("h1",{className:"font-serif text-2xl font-bold text-gray-900 mb-4",children:"Loading..."}),(0,r.jsx)("p",{className:"text-gray-600",children:"Please wait while we load the error details."})]})})}),children:(0,r.jsx)(f,{})})}}},e=>{e.O(0,[6874,1813,8441,5964,7358],()=>e(e.s=4700)),_N_E=e.O()}]);