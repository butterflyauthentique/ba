(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1685],{1243:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1284:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},2138:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3904:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4416:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4475:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});var r=a(5155),t=a(2115),i=a(3999),n=a(7598),d=a(6874),c=a.n(d);function l(){let{user:e,loading:s}=(0,i.A)(),[a,d]=(0,t.useState)(!1),[l,o]=(0,t.useState)(!1);return((0,t.useEffect)(()=>{(async()=>{e?(o(!0),d(await (0,n.qc)(e)),o(!1)):d(!1)})()},[e]),s)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-rose-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Admin Authentication Test"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Authentication Status"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Logged In:"})," ",e?"Yes":"No"]}),e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Name:"})," ",e.name]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Role:"})," ",e.role]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email Verified:"})," ",e.emailVerified?"Yes":"No"]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Admin Status"}),(0,r.jsx)("div",{className:"space-y-2",children:l?(0,r.jsx)("p",{children:"Checking admin status..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Is Admin:"})," ",a?"Yes":"No"]}),e&&"butterfly.auth@gmail.com"===e.email&&(0,r.jsx)("p",{className:"text-green-600 font-medium",children:"✅ Super Admin Account Detected"})]})})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Actions"}),(0,r.jsx)("div",{className:"space-y-4",children:e?a?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-green-600 font-medium",children:"✅ You have admin access!"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)(c(),{href:"/admin",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Go to Admin Panel"}),(0,r.jsx)(c(),{href:"/admin/admins",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Manage Admins"})]})]}):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-red-600 font-medium",children:"❌ You don't have admin access."}),(0,r.jsx)("p",{className:"text-gray-600",children:"Only users with admin privileges can access the admin panel."})]}):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-gray-600",children:"You need to log in to access admin features."}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)(c(),{href:"/login",className:"bg-rose-600 text-white px-4 py-2 rounded-lg hover:bg-rose-700 transition-colors",children:"Sign In"}),(0,r.jsx)(c(),{href:"/register",className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Sign Up"})]})]})})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-blue-900 mb-4",children:"How to Access Admin Panel"}),(0,r.jsxs)("div",{className:"space-y-2 text-blue-800",children:[(0,r.jsxs)("p",{children:["1. ",(0,r.jsx)("strong",{children:"Create Admin Account:"})," Use the script in ",(0,r.jsx)("code",{children:"scripts/create-admin-account.js"})]}),(0,r.jsxs)("p",{children:["2. ",(0,r.jsx)("strong",{children:"Sign In:"})," Go to ",(0,r.jsx)(c(),{href:"/login",className:"underline",children:"/login"})," and use ",(0,r.jsx)("code",{children:"butterfly.auth@gmail.com"})]}),(0,r.jsxs)("p",{children:["3. ",(0,r.jsx)("strong",{children:"Verify Email:"})," Check your email and verify the account"]}),(0,r.jsxs)("p",{children:["4. ",(0,r.jsx)("strong",{children:"Access Admin Panel:"}),' You\'ll see "Admin Panel" in the navigation']}),(0,r.jsxs)("p",{children:["5. ",(0,r.jsx)("strong",{children:"Manage Admins:"})," Go to Admin Panel → Manage Admins to add other admin users"]})]})]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,r.jsx)(c(),{href:"/",className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Back to Home"}),(0,r.jsx)(c(),{href:"/admin",className:"bg-rose-600 text-white px-4 py-2 rounded-lg hover:bg-rose-700 transition-colors",children:"Admin Panel"})]})]})]})})})}},5031:(e,s,a)=>{Promise.resolve().then(a.bind(a,4475))},5339:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5695:(e,s,a)=>{"use strict";var r=a(8999);a.o(r,"useParams")&&a.d(s,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(s,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(s,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(s,{useSearchParams:function(){return r.useSearchParams}})},7598:(e,s,a)=>{"use strict";a.d(s,{Oh:()=>c,fh:()=>i,qc:()=>d,qg:()=>o,vI:()=>l});var r=a(5317),t=a(6104);let i="butterfly.auth@gmail.com",n={id:"admin-1",email:i,name:"Butterfly Authentique Admin",role:"admin",isActive:!0,emailVerified:!0,createdAt:new Date,updatedAt:new Date,provider:"email",providerId:"email"},d=async e=>{if(!e)return!1;try{if(e.email===i)return!0;let s=await (0,r.x7)((0,r.H9)(t.db,"admins",e.email||""));if(s.exists()){let e=s.data();return!0===e.isActive}return!1}catch(e){return console.error("Error checking admin status:",e),!1}},c=async()=>{try{let e=(await (0,r.GG)((0,r.rJ)(t.db,"admins"))).docs.map(e=>({id:e.id,email:e.id,name:e.data().name||e.id,role:"admin",isActive:e.data().isActive||!1,emailVerified:!0,createdAt:e.data().createdAt||new Date,updatedAt:e.data().updatedAt||new Date,provider:"email",providerId:"email"}));return e.unshift(n),e}catch(e){return console.error("Error getting admins:",e),[n]}},l=async(e,s)=>{try{let{setDoc:i,serverTimestamp:n}=await Promise.resolve().then(a.bind(a,5317));return await i((0,r.H9)(t.db,"admins",e),{email:e,name:s,isActive:!0,createdAt:n(),updatedAt:n()}),!0}catch(e){return console.error("Error adding admin:",e),!1}},o=async e=>{try{let{deleteDoc:s}=await Promise.resolve().then(a.bind(a,5317));return await s((0,r.H9)(t.db,"admins",e)),!0}catch(e){return console.error("Error removing admin:",e),!1}}}},e=>{e.O(0,[9135,3965,6874,3568,4787,3999,8441,5964,7358],()=>e(e.s=5031)),_N_E=e.O()}]);