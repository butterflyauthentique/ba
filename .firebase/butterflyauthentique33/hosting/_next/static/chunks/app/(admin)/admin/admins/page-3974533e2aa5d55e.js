(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6512],{646:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1264:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},1612:(e,s,a)=>{Promise.resolve().then(a.bind(a,2322))},2322:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var r=a(5155),t=a(2115),i=a(6071),l=a(5339),d=a(9946);let c=(0,d.A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var n=a(5525),m=a(1264),x=a(646),o=a(4861),h=a(9074);let y=(0,d.A)("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var u=a(3999),p=a(7598),g=a(3568);function f(){let[e,s]=(0,t.useState)([]),[a,d]=(0,t.useState)(!0),[f,j]=(0,t.useState)(!1),[v,b]=(0,t.useState)(""),[N,A]=(0,t.useState)(""),{user:w}=(0,u.A)();(0,t.useEffect)(()=>{k()},[]);let k=async()=>{try{d(!0);let e=await (0,p.Oh)();s(e)}catch(e){console.error("Error fetching admins:",e),g.Ay.error("Failed to fetch admins")}finally{d(!1)}},E=async s=>{if(s.preventDefault(),!v||!N)return void g.Ay.error("Please fill in all fields");if(v===p.fh)return void g.Ay.error("This email is already the super admin");if(e.some(e=>e.email===v))return void g.Ay.error("This user is already an admin");try{j(!0),await (0,p.vI)(v,N)?(g.Ay.success("Admin added successfully"),b(""),A(""),k()):g.Ay.error("Failed to add admin")}catch(e){console.error("Error adding admin:",e),g.Ay.error("Failed to add admin")}finally{j(!1)}},M=async e=>{if(e===p.fh)return void g.Ay.error("Cannot remove super admin");if(confirm("Are you sure you want to remove ".concat(e," as an admin?")))try{await (0,p.qg)(e)?(g.Ay.success("Admin removed successfully"),k()):g.Ay.error("Failed to remove admin")}catch(e){console.error("Error removing admin:",e),g.Ay.error("Failed to remove admin")}},S=(null==w?void 0:w.email)===p.fh;return a?(0,r.jsx)(i.A,{children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-rose-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading admins..."})]})})}):S?(0,r.jsx)(i.A,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Management"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage admin users and permissions"})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(c,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Add New Admin"})]}),(0,r.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,r.jsx)("input",{type:"email",value:v,onChange:e=>b(e.target.value),placeholder:"admin@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),(0,r.jsx)("input",{type:"text",value:N,onChange:e=>A(e.target.value),placeholder:"Admin Name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),(0,r.jsxs)("button",{type:"submit",disabled:f,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[f?(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):(0,r.jsx)(c,{className:"w-4 h-4 mr-2"}),f?"Adding...":"Add Admin"]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Current Admins"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Manage admin access and permissions"})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>{var s,a;return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,r.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,r.jsx)(n.A,{className:"h-5 w-5 text-blue-600"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.email===p.fh?"Super Admin":"Admin"})]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:e.email})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[e.isActive?(0,r.jsx)(x.A,{className:"h-3 w-3 mr-1"}):(0,r.jsx)(o.A,{className:"h-3 w-3 mr-1"}),e.isActive?"Active":"Inactive"]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(h.A,{className:"h-4 w-4 text-gray-400 mr-2"}),(null==(a=e.createdAt)||null==(s=a.toDate)?void 0:s.call(a))?e.createdAt.toDate().toLocaleDateString():"Unknown"]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.email!==p.fh&&(0,r.jsx)("button",{onClick:()=>M(e.email||""),className:"text-red-600 hover:text-red-900 p-1",title:"Remove Admin",children:(0,r.jsx)(y,{className:"h-4 w-4"})})})]},e.email)})})]})})]}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Total admins: ",e.length," â€¢ Active: ",e.filter(e=>e.isActive).length]})})]})}):(0,r.jsx)(i.A,{children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(l.A,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Only super admins can manage admin users."})]})})})}},4861:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},9074:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}},e=>{e.O(0,[9135,3965,6874,3568,4787,3999,376,8441,5964,7358],()=>e(e.s=1612)),_N_E=e.O()}]);