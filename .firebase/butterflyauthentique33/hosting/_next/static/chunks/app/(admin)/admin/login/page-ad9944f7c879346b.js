(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6873],{947:(e,t,r)=>{Promise.resolve().then(r.bind(r,5983))},1243:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1264:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},1284:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},1469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return n},getImageProps:function(){return d}});let a=r(8229),s=r(8883),i=r(3063),l=a._(r(1193));function d(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let n=i.Image},2138:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},2657:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2919:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},3904:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4416:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5339:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},5983:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(5155),s=r(2115),i=r(5695),l=r(6874),d=r.n(l),n=r(6766),c=r(1264),o=r(2919),u=r(8749),m=r(2657),h=r(5339),y=r(3999),x=r(7598),f=r(3568);function p(){let e=(0,i.useRouter)(),{signIn:t,user:r,signOut:l}=(0,y.A)(),[p,g]=(0,s.useState)(""),[b,v]=(0,s.useState)(""),[A,w]=(0,s.useState)(!1),[k,j]=(0,s.useState)(!1),[N,P]=(0,s.useState)(!1);(0,s.useEffect)(()=>{r&&N&&q()},[r,N]);let q=async()=>{try{await (0,x.qc)(r)?(f.Ay.success("Welcome to Admin Panel!"),e.push("/admin")):(f.Ay.error("Access denied. Admin privileges required."),await l())}catch(e){console.error("Admin check error:",e),f.Ay.error("Error checking admin status"),await l()}finally{P(!1)}},M=async e=>{e.preventDefault(),j(!0),P(!0);try{await t(p,b)}catch(e){console.error("Admin login error:",e),P(!1)}finally{j(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-amber-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsx)(n.default,{src:"/android-chrome-192x192.png",alt:"Butterfly Authentique",width:64,height:64,className:"rounded-lg"})}),(0,a.jsx)("h2",{className:"font-secondary text-3xl font-bold text-gray-900",children:"Admin Login"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Access Butterfly Authentique Admin Panel"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[(0,a.jsxs)("form",{className:"space-y-6",onSubmit:M,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(c.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:p,onChange:e=>g(e.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors",placeholder:"butterfly.auth@gmail.com"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(o.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"password",name:"password",type:A?"text":"password",autoComplete:"current-password",required:!0,value:b,onChange:e=>v(e.target.value),className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors",placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>w(!A),children:A?(0,a.jsx)(u.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,a.jsx)(m.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 text-blue-400 mt-0.5"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Admin Access Only"}),(0,a.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"This panel is restricted to authorized administrators only."})]})]})}),(0,a.jsx)("button",{type:"submit",disabled:k,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:k?"Signing in...":"Sign in to Admin Panel"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)(d(),{href:"/",className:"text-sm text-gray-600 hover:text-red-600 transition-colors",children:"← Back to Butterfly Authentique"})})]})]})})}},6766:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var a=r(1469),s=r.n(a)},7598:(e,t,r)=>{"use strict";r.d(t,{Oh:()=>n,fh:()=>i,qc:()=>d,qg:()=>o,vI:()=>c});var a=r(5317),s=r(6104);let i="butterfly.auth@gmail.com",l={id:"admin-1",email:i,name:"Butterfly Authentique Admin",role:"admin",isActive:!0,emailVerified:!0,createdAt:new Date,updatedAt:new Date,provider:"email",providerId:"email"},d=async e=>{if(!e)return!1;try{if(e.email===i)return!0;let t=await (0,a.x7)((0,a.H9)(s.db,"admins",e.email||""));if(t.exists()){let e=t.data();return!0===e.isActive}return!1}catch(e){return console.error("Error checking admin status:",e),!1}},n=async()=>{try{let e=(await (0,a.GG)((0,a.rJ)(s.db,"admins"))).docs.map(e=>({id:e.id,email:e.id,name:e.data().name||e.id,role:"admin",isActive:e.data().isActive||!1,emailVerified:!0,createdAt:e.data().createdAt||new Date,updatedAt:e.data().updatedAt||new Date,provider:"email",providerId:"email"}));return e.unshift(l),e}catch(e){return console.error("Error getting admins:",e),[l]}},c=async(e,t)=>{try{let{setDoc:i,serverTimestamp:l}=await Promise.resolve().then(r.bind(r,5317));return await i((0,a.H9)(s.db,"admins",e),{email:e,name:t,isActive:!0,createdAt:l(),updatedAt:l()}),!0}catch(e){return console.error("Error adding admin:",e),!1}},o=async e=>{try{let{deleteDoc:t}=await Promise.resolve().then(r.bind(r,5317));return await t((0,a.H9)(s.db,"admins",e)),!0}catch(e){return console.error("Error removing admin:",e),!1}}},8749:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])}},e=>{e.O(0,[9135,3965,6874,3568,4787,3063,3999,8441,5964,7358],()=>e(e.s=947)),_N_E=e.O()}]);