(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5867],{9483:(e,s,r)=>{Promise.resolve().then(r.bind(r,9673))},9673:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var t=r(5155),a=r(2115),d=r(6071),l=r(5317),i=r(6104);function n(){let[e,s]=(0,a.useState)({totalProducts:0,activeProducts:0,draftProducts:0,totalOrders:0,pendingOrders:0,completedOrders:0,totalRevenue:0,recentProducts:[]}),[r,n]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{n(!0);let e=(0,l.P)((0,l.rJ)(i.db,"products")),r=(await (0,l.GG)(e)).docs.map(e=>({id:e.id,...e.data()})),t=(0,l.P)((0,l.rJ)(i.db,"orders")),a=(await (0,l.GG)(t)).docs.map(e=>({id:e.id,...e.data()})),d=r.length,c=r.filter(e=>"active"===e.status).length,o=r.filter(e=>"draft"===e.status).length,m=a.length,x=a.filter(e=>"pending"===e.status).length,h=a.filter(e=>"completed"===e.status).length,g=a.filter(e=>"completed"===e.status).reduce((e,s)=>e+(s.totalAmount||0),0),u=r.filter(e=>"active"===e.status).sort((e,s)=>{var r,t,a,d;let l=(null==(t=e.createdAt)||null==(r=t.toDate)?void 0:r.call(t))||new Date(0);return((null==(d=s.createdAt)||null==(a=d.toDate)?void 0:a.call(d))||new Date(0)).getTime()-l.getTime()}).slice(0,5);s({totalProducts:d,activeProducts:c,draftProducts:o,totalOrders:m,pendingOrders:x,completedOrders:h,totalRevenue:g,recentProducts:u})}catch(e){console.error("Error fetching dashboard data:",e)}finally{n(!1)}})()},[]),r)?(0,t.jsx)(d.A,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading dashboard data..."})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 animate-pulse",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-gray-200 rounded-lg w-10 h-10"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),(0,t.jsx)("div",{className:"h-6 bg-gray-200 rounded w-12"})]})]})},s))})]})}):(0,t.jsx)(d.A,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Welcome to the Butterfly Authentique admin panel"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.totalProducts}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.activeProducts," active, ",e.draftProducts," draft"]})]})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.totalOrders}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.pendingOrders," pending, ",e.completedOrders," completed"]})]})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Products"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.activeProducts}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Currently available"})]})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,t.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:["₹",e.totalRevenue.toLocaleString()]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"From completed orders"})]})]})})]}),e.recentProducts.length>0&&(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Products"}),(0,t.jsx)("div",{className:"space-y-3",children:e.recentProducts.map(e=>{var s;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-100 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-lg mr-3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["₹",null==(s=e.price)?void 0:s.toLocaleString()]})]})]}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]},e.id)})})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("a",{href:"/admin/products/new",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Add Product"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Create a new product"})]})]}),(0,t.jsxs)("a",{href:"/admin/orders",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"View Orders"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Manage customer orders"})]})]}),(0,t.jsxs)("a",{href:"/admin/admins",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Manage Admins"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Add/remove admin users"})]})]})]})]})]})})}}},e=>{e.O(0,[9135,3965,6874,3568,4787,3999,376,8441,5964,7358],()=>e(e.s=9483)),_N_E=e.O()}]);